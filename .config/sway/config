# =================
# Execute on start
# =================

# Waybar
exec --no-startup-id waybar

# Autotiling
exec_always --no-startup-id autotiling

# Background for your desktop with swww
exec_always swaybg -i $(cat ~/.cache/wal/wal) -m fill


# Set the mod key to Mod1 (Alt)
set $mod Mod1

# include pywal colors
include ~/.cache/wal/colors-sway



# =================
# Sway Reload & Exit
# =================

# Reload sway config
bindsym $mod+Shift+R reload

# Restart Sway
bindsym $mod+Shift+E restart

# Exit Sway
bindsym $mod+Shift+Q exit

# ================================
# Application Launchers / Killers
# ================================

# Rofi
bindsym $mod+space exec rofi -show drun

# Open terminal
bindsym $mod+Return exec kitty

# chromium
bindsym $mod+b exec chromium

# python scripts
bindsym $mod+W exec python3 ~/.config/sway/scripts/hide.py

# ====================
# Window Management
# ====================

# Split windows horizontally
bindsym $mod+h split h

# Split windows vertically
bindsym $mod+v split v

# Focus windows
bindsym $mod+Left focus left
bindsym $mod+Right focus right
bindsym $mod+Up focus up
bindsym $mod+Down focus down

# Move windows
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Right move right
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Down move down

# Resize windows
bindsym $mod+Ctrl+Left  resize shrink width 5 px 
bindsym $mod+Ctrl+Right resize grow   width 5 px 
bindsym $mod+Ctrl+Up    resize grow   height 5 px 
bindsym $mod+Ctrl+Down  resize shrink height 5 px 

# Toggle fullscreen and floating
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+q kill

# Window GAPS (to see background + looks cooler)
gaps outer 2
gaps inner 10

# =============================
# Audio Managment & Brightness
# =============================

# Increase brightness
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +1
# Decrease brightness
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 1-

# --- AUDIO CONTROL (PipeWire wpctl) ---
# Volume up/down
bindsym XF86AudioRaiseVolume exec --no-startup-id wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

# ===========
# Workspaces
# ===========

# Define Workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "e"

# Assign the workspaces to specific keys
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+e workspace $ws4

# ================
# Windows theming
# ================

# class                 border  backgr. text    indicator child_border
client.focused          $color5 $color0 $color7 $color5    $color5
client.unfocused        $color1 $color0 $color7 $color1    $color1
client.focused_inactive $color1 $color0 $color7 $color1    $color1
client.urgent           $color2 $color0 $color7 $color2    $color2

# my favorite font
font pango:unifont 15

#fix for touchpad
input "type:touchpad" {
    tap enabled
    natural_scroll disabled
    scroll_method "two_finger"
    middle_emulation enabled
}

# obs fix (if you use obs)

# exec --no-startup-id dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway
# exec --no-startup-id /usr/lib/xdg-desktop-portal-wlr &
# exec --no-startup-id /usr/lib/xdg-desktop-portal -r
